<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Anjou Pack'Eco</title>
    <link href="/assets/carton1.png" rel="icon">
    <link href="/css/style.css" rel="stylesheet" >
    <link href="/css/media-queries.css" rel="stylesheet">
    <link href="/css/carousel.css" rel="stylesheet">

    <style>
        #welcome {
            background-color: var(--green2);
            text-align: center;
            p:first-child {
                color: var(--light);
                font: 1.5em Belleza;
                font-weight: bold;
            }
            .logo {
                margin: 30px;
            }
        }
    </style>
</head>

<body>
<header>
    <img src="/assets/logo3.png" alt="Logo" class="logo">
    <nav>
        <a href="/index.html">Accueil</a>
        <a href="/products.html">Produits</a>
        <a href="/contact.html">Contact et achat</a>
        <a href="/organigramme.html">Qui sommes-nous ?</a>
    </nav>
</header>

<main>
    <section id="welcome" class="flex col">
        <p>Anjou Pack'Eco</p>
        <h1>Bienvenue</h1>
        <img src="/assets/feuille2.png" alt="Anjou Pack'Eco" class="logo">
        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
            Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
            Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
            Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
        </p>
        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
            Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
        </p>
        <button onclick="scrollToSection('products')">Scroll</button>
    </section>

    <section id="products">
        <h2>Nos produits</h2>
        <div class="carousel">
            <button id="prev-btn" class="stripped">Préc.</button>
            <div class="item-list">
                <img class="carousel-item" alt="el0" src="https://placehold.co/300?text=0"/>
                <img class="carousel-item" alt="el1" src="https://placehold.co/300?text=1"/>
                <img class="carousel-item" alt="el2" src="https://placehold.co/300?text=2"/>
                <img class="carousel-item" alt="el3" src="https://placehold.co/300?text=3"/>
                <img class="carousel-item" alt="el4" src="https://placehold.co/300?text=4" onclick="scrollToSection('welcome')"/>
                <img class="carousel-item" alt="el5" src="https://placehold.co/300?text=5"/>
                <img class="carousel-item" alt="el6" src="https://placehold.co/300?text=6"/>
                <img class="carousel-item" alt="el7" src="https://placehold.co/300?text=7"/>
                <img class="carousel-item" alt="el8" src="https://placehold.co/300?text=8"/>
                <img class="carousel-item" alt="el9" src="https://placehold.co/300?text=9"/>
            </div>
            <button id="next-btn" class="stripped">Suiv.</button>
        </div>
    </section>
</main>

<footer id="footer">
    <div>
        <ul>
            <li><a href="">Lien réseau 1</a></li>
            <li><a href="">Lien réseau 2</a></li>
        </ul>
        <img src="/assets/carton1.png" alt="Logo" class="logo">
        <ul>
            <li><a href="mailto:anjoupackeco@gmail.com">anjoupackeco@gmail.com</a></li>
            <li>02 41 56 76 74</li>
            <li>4 Boulevard de Lavoisier<br>49000 Angers</li>
        </ul>
    </div>
    <p>Copyright © 2024 Thibaud COUDRIN & Noé LETEURTRE</p>
</footer>

<script>
    function scrollToSection(id) {
        const element = document.getElementById(id);
        let offset = element.getBoundingClientRect().top + window.scrollY - 58;
        if (!lessThan800) {
            offset -= 71;
        }
        window.scrollTo({top: offset, behavior: "smooth"});
    }

    function watchMediaChange(query) {
        lessThan800 = !!query.matches;
    }

    let lastKnownScroll = 0;
    let lessThan800 = false;
    const queries = window.matchMedia("(max-width: 800px)");
    const prev = document.getElementById('prev-btn')
    const next = document.getElementById('next-btn')
    const list = document.getElementsByClassName('item-list')[0]

    prev.addEventListener('click', () => {
        list.scrollLeft -= list.offsetWidth;
        if (list.scrollLeft < 0) {
            list.scrollLeft = 0;
        }
    });
    next.addEventListener('click', () => {
        list.scrollLeft += list.offsetWidth;
        if (list.scrollLeft > list.scrollWidth - list.clientWidth) {
            list.scrollLeft = list.scrollWidth - list.clientWidth;
        }
    });
    queries.addEventListener("change", watchMediaChange);
    document.addEventListener('scroll', () => {
        if (window.scrollY > lastKnownScroll && window.scrollY > 130) {
            document.getElementsByTagName('header')[0].classList.add('reduce');
        } else {
            document.getElementsByTagName('header')[0].classList.remove('reduce');
        }
        lastKnownScroll = window.scrollY;
    });

    watchMediaChange(queries);
</script>
</body>
</html>